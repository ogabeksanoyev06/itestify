import{u as N}from"./useApi.BoEt07ES.js";import{u as T,a as L}from"./entry.DdJuc-3z.js";import{t as y}from"./test.DmJ8w_Fl.js";import{a as k,q,J as i,U as s,F as f,L as x,u as a,I as n,X as d,Q as g,N as B,O as P,W as A}from"./swiper-vue.DvdnvJXd.js";import{_ as F}from"./Button.vue.2VwGSDma.js";const j=()=>{const b=T(),u=N(),t=k([]),p=k(["A","B","C","D","E","F","G","H"]),m=o=>{let r={subjectName:o[0].science,questionCount:o[0].question_count,type:b.query.type,questions:o[0].questions.map(e=>({id:e.id,question:e.question,answers:[e.answer1,e.answer2,e.answer3,e.answer4],correctAnswer:e.correct_answer,isPicked:e.is_picked,answer:e.answer}))};t.value.push(r)},w=o=>{},l=o=>{let r={subjectName:o[0].science,questionCount:o[0].question_count,type:b.query.type,maxBall:o[0].max_ball,totalBall:o[0].total_ball,questions:o[0].questions.map(e=>({id:e.id,question:e.question,answers:[e.answer1,e.answer2,e.answer3,e.answer4],correctAnswer:e.correct_answer,isPicked:e.is_picked,answer:e.answer}))};t.value.push(r)};return{testHistoryId:t,answerLabels:p,getHistoryTestId:async o=>{try{const r=await u.get(`tests/tests-history/${o.id}/?type=${o.type}`);switch(o.type){case y.TYPE_BLOCK:l(r);break;case y.TYPE_SCHOOL:m(r);break;case y.TYPE_ONLINE:w(r);break;default:break}}catch(r){console.error(r)}}}},E={class:"py-8"},Q={class:"container"},I={class:"inline-flex justify-center w-full"},M={class:"text-[18px] text-center shadow-[0_0px_10px_rgba(0,0,0,.15)] font-bold py-3 px-6 mb-6"},O={class:"relative overflow-x-auto mb-6"},$={class:"w-full whitespace-nowrap text-sm text-left rtl:text-right"},D=s("thead",{class:"border-b border-border"},[s("tr",{class:"text-center"},[s("th",{scope:"col",class:"p-4"},"Test turi"),s("th",{scope:"col",class:"p-4"},"Fan nomi"),s("th",{scope:"col",class:"p-4"},"Savollar soni"),s("th",{scope:"col",class:"p-4"},"Ball"),s("th",{scope:"col",class:"p-4"},"Vaqti")])],-1),S={class:"bg-card border-b border-border transition-all duration-300 text-center"},V={class:"p-4"},Y={class:"p-4"},X={class:"p-4"},z=s("td",{class:"p-4"},"70.7",-1),G=s("td",{class:"p-4"},"-20 daqiqa",-1),J={class:"flex flex-col gap-3"},K={class:"question flex items-start text-base"},R={id:"question_number",class:"mr-1"},U={id:"question_text"},W=["innerHTML"],Z={key:0,class:"text-red-600"},ss={key:1,class:"text-red-600"},es={key:2,class:"text-green-600"},ts={class:"flex flex-col gap-2"},rs=["onClick"],os={class:"font-semibold"},as=["innerHTML"],cs={class:"mt-6"},ns={class:"pagination-list flex flex-wrap gap-2 justify-center border-b border-border pb-4"},ps={__name:"[answerAattempId]",setup(b){const u=T(),t=k({}),{testHistoryId:p,answerLabels:m,getHistoryTestId:w}=j(),l=L("testNumber",{default:()=>0}),v=r=>{r!==l.value&&(l.value=r,o())},o=()=>{var r;t.value=(r=p.value[0])==null?void 0:r.questions[l.value]};return q(async()=>{await w({id:u.params.answerAattempId,type:u.query.type}),o()}),(r,e)=>(n(),i("div",E,[s("div",Q,[(n(!0),i(f,null,x(a(p),(_,C)=>(n(),i("div",{key:C},[s("div",I,[s("p",M,d(_.subjectName),1)]),s("div",O,[s("table",$,[D,s("tbody",null,[s("tr",S,[s("td",V,d(_.type),1),s("td",Y,d(_.subjectName),1),s("td",X,d(_.questionCount),1),z,G])])])]),s("div",J,[s("div",{class:g(["flex flex-col gap-2 shadow-[0_0px_10px] border p-4",{"shadow-red-600":!a(t).answer,"shadow-green-600":a(t).is_correct,"shadow-red-600":!a(t).is_correct&&a(t).isPicked}])},[s("div",K,[s("b",R,d(a(l)+1)+". ",1),s("span",U,[s("span",{innerHTML:a(t).question},null,8,W),a(t).answer?a(t).is_correct?(n(),i("span",es,"(To'g'ri)")):(n(),i("span",ss,"(Xato)")):(n(),i("span",Z,"(belgilanmagan)"))])]),s("ul",ts,[(n(!0),i(f,null,x(a(t).answers,(h,c)=>(n(),i("li",{class:g(["text-sm cursor-pointer border border-border rounded flex items-start gap-1 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-300 group",{"border-primary text-primary":a(t).isPicked&&a(t).answer===c+1,"text-red-600 border-red-600":!a(t).is_correct&&a(t).isPicked&&c+1===a(t).answer}]),key:c,onClick:H=>r.selectAnswer(r.question.id,c+1)},[s("span",os,d(a(m)[c]+")"),1),s("span",{class:"",innerHTML:h},null,8,as)],10,rs))),128))])],2)]),s("div",cs,[s("ul",ns,[(n(!0),i(f,null,x(_.questions,(h,c)=>(n(),B(F,{key:c,variant:h.isPicked?h.is_correct?"success":"danger":"secondary",onClick:H=>v(c),class:g(["w-8 h-8 transition-all duration-500",c===a(l)?"border-2 border-foreground":""])},{default:P(()=>[A(d(c+1),1)]),_:2},1032,["variant","onClick","class"]))),128))])])]))),128))])]))}};export{ps as default};
